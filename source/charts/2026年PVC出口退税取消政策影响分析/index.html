<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026å¹´PVCå‡ºå£é€€ç¨å–æ¶ˆæ”¿ç­–å½±å“åˆ†æ</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <!-- Google Fonts for Chinese -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif; /* Optimized for Chinese */
            background-color: #F3F4F6; /* Gray-100 */
            color: #1F2937; /* Gray-800 */
        }

        /* Chart Container Styling - Strict Adherence to Requirements */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 100%;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 450px;
            background: white;
            border-radius: 0.5rem;
            padding: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }

        /* 3D Plotly Container specific sizing */
        .plotly-container {
            width: 100%;
            height: 500px;
            max-height: 550px;
        }

        /* Gradient Text */
        .text-gradient {
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-image: linear-gradient(to right, #4F46E5, #06B6D4);
        }

        /* Timeline Styling */
        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background-color: #E5E7EB;
            transform: translateX(-50%);
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header Section -->
    <header class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold tracking-tight text-gray-900">
                    <span class="text-indigo-600">PVC</span> å‡ºå£é€€ç¨æ”¿ç­–æ”¹é©
                </h1>
                <p class="text-xs text-gray-500 font-semibold uppercase tracking-wider">2026å¹´1æœˆ æ”¿ç­–é¢„è­¦</p>
            </div>
            <div class="hidden md:block">
                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-100 text-amber-800">
                    ç”Ÿæ•ˆæ—¥æœŸï¼š2026å¹´4æœˆ1æ—¥
                </span>
            </div>
        </div>
    </header>

    <!-- Main Content Grid -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-12">

        <!-- Introduction & Hook -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
            <div class="space-y-6">
                <h2 class="text-4xl md:text-5xl font-extrabold leading-tight">
                    <span class="text-gradient">13% é€€ç¨æ—¶ä»£</span><br>
                    æ­£å¼ç»ˆç»“
                </h2>
                <p class="text-lg text-gray-600 leading-relaxed">
                    <strong>2026å¹´1æœˆ8æ—¥</strong>ï¼Œè´¢æ”¿éƒ¨ä¸ç¨åŠ¡æ€»å±€å‘å¸ƒé‡ç£…å…¬å‘Šï¼šè‡ª2026å¹´4æœˆ1æ—¥èµ·ï¼Œæ˜ç¡®å–æ¶ˆåŒ…æ‹¬PVCçº¯ç²‰ã€å·²å¡‘åŒ–åŠæœªå¡‘åŒ–PVCåœ¨å†…çš„äº§å“å¢å€¼ç¨å‡ºå£é€€ç¨ã€‚
                </p>
                <div class="bg-indigo-50 border-l-4 border-indigo-600 p-4 rounded-r-lg">
                    <p class="font-bold text-indigo-900">æ ¸å¿ƒå½±å“ï¼š</p>
                    <p class="text-indigo-700">ä¸­å›½PVCå‡ºå£å•†é¢ä¸´å³æ—¶çš„13%æˆæœ¬ç¼ºå£ã€‚å¸‚åœºå¿…é¡»åšå‡ºæŠ‰æ‹©ï¼šæ˜¯æé«˜ä»·æ ¼ï¼Œè¿˜æ˜¯ç‰ºç‰²åˆ©æ¶¦ï¼Ÿ</p>
                </div>
            </div>
            
            <!-- CSS-based Impact Cards -->
            <div class="grid grid-cols-2 gap-4">
                <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-amber-500 flex flex-col items-center justify-center text-center">
                    <div class="text-5xl mb-2">ğŸ“‰</div>
                    <div class="text-3xl font-bold text-gray-900">0%</div>
                    <div class="text-sm text-gray-500 mt-1">æ–°é€€ç¨ç‡</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-indigo-500 flex flex-col items-center justify-center text-center">
                    <div class="text-5xl mb-2">ğŸ—“ï¸</div>
                    <div class="text-3xl font-bold text-gray-900">4æœˆ1æ—¥</div>
                    <div class="text-sm text-gray-500 mt-1">æ”¿ç­–æ‰§è¡Œæ—¶é—´</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md col-span-2 border-t-4 border-cyan-500 flex flex-col items-center justify-center text-center">
                    <div class="text-5xl mb-2">ğŸ­</div>
                    <div class="text-xl font-bold text-gray-900">å—å½±å“äº§å“</div>
                    <div class="text-sm text-gray-500 mt-2">PVCçº¯ç²‰ â€¢ å·²å¡‘åŒ–PVC â€¢ æœªå¡‘åŒ–PVC</div>
                </div>
            </div>
        </section>

        <!-- Section 2: Financial Impact Analysis -->
        <section>
            <div class="mb-6 border-b border-gray-200 pb-4">
                <h3 class="text-2xl font-bold text-gray-900">è´¢åŠ¡å½±å“æ·±åº¦åˆ†æ</h3>
                <p class="mt-2 text-gray-600 max-w-3xl">
                    å¤šå¹´æ¥ï¼Œ13%çš„é€€ç¨æ˜¯å‡ºå£ä¼ä¸šçš„é‡è¦åˆ©æ¶¦ç¼“å†²ã€‚é€€ç¨å–æ¶ˆå°†ä»æ ¹æœ¬ä¸Šæ”¹å˜å•ä½ç»æµæ•ˆç›Šã€‚ä¸‹å›¾å±•ç¤ºäº†åœ¨å‡è®¾å‡ºå£ä»·æ ¼ä¿æŒ$850/å¨ä¸å˜çš„æƒ…å†µä¸‹ï¼Œæ¯å…¬å¨ï¼ˆMTï¼‰å‡€å‡ºå£æ”¶å…¥çš„å˜åŒ–ã€‚
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Chart 1: Revenue Bridge -->
                <div class="flex flex-col">
                    <div class="chart-container">
                        <canvas id="impactBarChart"></canvas>
                    </div>
                    <p class="text-sm text-gray-500 mt-3 italic text-center">
                        <strong>å›¾è¡¨ 1ï¼š</strong> å‡€æ”¶å…¥ç•™å­˜å¯¹æ¯”ã€‚è‹¥ä¸æä»·ï¼Œå‡ºå£å•†æ¯å¨å°†ç›´æ¥æŸå¤±çº¦110-130ç¾å…ƒã€‚
                    </p>
                </div>

                <!-- Chart 2: Cost Composition -->
                <div class="flex flex-col">
                    <div class="chart-container">
                        <canvas id="costStructureChart"></canvas>
                    </div>
                    <p class="text-sm text-gray-500 mt-3 italic text-center">
                        <strong>å›¾è¡¨ 2ï¼š</strong> è¦åœ¨4æœˆåç»´æŒç›¸åŒçš„å‡€åˆ©æ¶¦ç‡ï¼Œå‡ºå£æŠ¥ä»·å¿…é¡»å¤§å¹…ä¸Šæ¶¨ä»¥è¦†ç›–ç¨åŠ¡æˆæœ¬ã€‚
                    </p>
                </div>
            </div>
        </section>

        <!-- Section 3: Market Behavior Forecast -->
        <section class="bg-white rounded-2xl shadow-xl p-8 overflow-hidden relative">
            <div class="absolute top-0 left-0 w-2 h-full bg-gradient-to-b from-indigo-500 to-cyan-400"></div>
            
            <div class="mb-8">
                <h3 class="text-2xl font-bold text-gray-900">2026å¹´ä¸€äºŒå­£åº¦é¢„æµ‹ï¼šâ€œæŠ¢å‡ºå£â€ä¸â€œæ–­å´–â€</h3>
                <p class="mt-2 text-gray-600">
                    åŸºäºå†å²é€€ç¨æ”¿ç­–è°ƒæ•´çš„ç»éªŒï¼Œæˆ‘ä»¬é¢„æµ‹åœ¨4æœˆ1æ—¥å¤§é™ä¹‹å‰ï¼ŒçŸ­æœŸå†…å°†å‡ºç°å·¨å¤§çš„å‡ºå£â€œæŠ¢è£…â€æµªæ½®ï¼Œéšååœ¨äºŒå­£åº¦å¸‚åœºå› ä»·æ ¼è°ƒæ•´è€Œæ€¥å‰§èç¼©ã€‚
                </p>
            </div>

            <div class="w-full">
                <!-- Large Full Width Chart -->
                <div class="chart-container" style="max-width: 100%;">
                    <canvas id="trendLineChart"></canvas>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6 text-center">
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <span class="block text-indigo-600 font-bold text-lg">ç¬¬ä¸€é˜¶æ®µï¼šææ…ŒæœŸ</span>
                        <span class="text-xs text-gray-500">1æœˆ8æ—¥ - 2æœˆ15æ—¥</span>
                        <p class="text-sm text-gray-700 mt-1">ç´§æ€¥ç­¾è®¢åˆåŒï¼Œç‰©æµèˆ±ä½å¼€å§‹ç´§å¼ ã€‚</p>
                    </div>
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <span class="block text-amber-600 font-bold text-lg">ç¬¬äºŒé˜¶æ®µï¼šå†²åˆºæœŸ</span>
                        <span class="text-xs text-gray-500">2æœˆ15æ—¥ - 3æœˆ31æ—¥</span>
                        <p class="text-sm text-gray-700 mt-1">å‡ºå£é‡è¾¾åˆ°å³°å€¼ï¼Œæ¸¯å£æ‹¥å µï¼Œä»·æ ¼å‰§çƒˆæ³¢åŠ¨ã€‚</p>
                    </div>
                    <div class="p-4 bg-gray-50 rounded-lg">
                        <span class="block text-red-600 font-bold text-lg">ç¬¬ä¸‰é˜¶æ®µï¼šå†°å†»æœŸ</span>
                        <span class="text-xs text-gray-500">4æœˆ1æ—¥ åŠä»¥å</span>
                        <p class="text-sm text-gray-700 mt-1">å‡ºå£é‡æ–­å´–å¼ä¸‹è·Œï¼Œå…¨çƒä»·æ ¼é‡æ–°è°ˆåˆ¤ã€‚</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 4: Advanced Analysis (Plotly) -->
        <section>
            <div class="mb-6">
                <h3 class="text-2xl font-bold text-gray-900">ä»·æ ¼æ•æ„Ÿåº¦å…¨æ™¯æ¨¡å‹</h3>
                <p class="mt-2 text-gray-600">
                    å›½é™…åŸæ²¹ä»·æ ¼ã€å›½å†…ç…¤ç‚­ä»·æ ¼ï¼ˆåŸæ–™ï¼‰ä¸æ–°ç¨æ”¶æ”¿ç­–ä¹‹é—´çš„å…³ç³»æ„æˆäº†ä¸€ä¸ªå¤æ‚çš„æ³¢åŠ¨é¢ã€‚æ­¤3Dæ¨¡å‹å±•ç¤ºäº†åœ¨0%é€€ç¨æ–°åˆ¶ä¸‹ï¼Œå®ç°ç›ˆäºå¹³è¡¡æ‰€éœ€çš„PVCç›®æ ‡å‡ºå£ä»·æ ¼ï¼ˆç¾å…ƒ/å¨ï¼‰ã€‚
                </p>
            </div>

            <div class="bg-white rounded-xl shadow-lg p-4">
                 <!-- 3D Chart Container -->
                 <div id="plotly3d" class="chart-container plotly-container"></div>
                 <p class="text-sm text-gray-500 mt-3 italic text-center">
                    <strong>å›¾è¡¨ 4ï¼š</strong> äº¤äº’å¼3Dæ¨¡å‹ï¼ˆæ‹–åŠ¨æ—‹è½¬ï¼‰ã€‚Zè½´ä»£è¡¨ç›ˆäºå¹³è¡¡æ‰€éœ€çš„ç›®æ ‡å‡ºå£ä»·æ ¼ã€‚
                </p>
            </div>
        </section>

        <!-- Section 5: Strategic Categories -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div>
                <h3 class="text-2xl font-bold text-gray-900 mb-4">å—å½±å“äº§å“ç±»åˆ«å æ¯”</h3>
                <p class="text-gray-600 mb-6">
                    å¹¶éæ‰€æœ‰å¡‘æ–™äº§å“å—å½±å“ç¨‹åº¦ç›¸åŒã€‚æ”¿ç­–ç‰¹åˆ«é’ˆå¯¹PVCåŠå…¶ç›¸å…³å½¢æ€ã€‚äº†è§£å‡ºå£äº§å“ç»“æ„å¯¹äºè¯„ä¼°å½±å“è‡³å…³é‡è¦ã€‚
                </p>
                <div class="chart-container">
                    <canvas id="productDoughnut"></canvas>
                </div>
            </div>
            
            <div class="bg-indigo-900 text-white rounded-xl p-8 flex flex-col justify-center">
                <h3 class="text-2xl font-bold mb-6">æˆ˜ç•¥åº”å¯¹å»ºè®®</h3>
                <ul class="space-y-4">
                    <li class="flex items-start">
                        <span class="text-amber-400 mr-3 text-xl">âœ</span>
                        <div>
                            <strong class="block text-lg">çŸ­æœŸ (2026å¹´ ç¬¬ä¸€å­£åº¦)</strong>
                            <span class="text-indigo-200 text-sm">ç«‹å³é”å®šç‰©æµèˆ±ä½ã€‚ä¼˜å…ˆå®‰æ’â€œæœªå¡‘åŒ–PVCâ€ç­‰å¤§å®—äº§å“çš„å‡ºè¿ã€‚</span>
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="text-amber-400 mr-3 text-xl">âœ</span>
                        <div>
                            <strong class="block text-lg">ä¸­æœŸ (2026å¹´ ç¬¬äºŒå­£åº¦)</strong>
                            <span class="text-indigo-200 text-sm">ä¸å…¨çƒä¹°å®¶é‡æ–°è°ˆåˆ¤åˆåŒã€‚é¢„è®¡éœ€å‘ç»ˆç«¯ç”¨æˆ·è½¬å«5-10%çš„ä»·æ ¼æ¶¨å¹…ã€‚</span>
                        </div>
                    </li>
                    <li class="flex items-start">
                        <span class="text-amber-400 mr-3 text-xl">âœ</span>
                        <div>
                            <strong class="block text-lg">é•¿æœŸå±•æœ›</strong>
                            <span class="text-indigo-200 text-sm">è‹¥å‡ºå£å—é˜»ï¼Œå›½å†…å¯èƒ½å‡ºç°ä¾›åº”è¿‡å‰©ã€‚å…³æ³¨2026å¹´ä¸‰å­£åº¦çš„å‡äº§ä¿¡å·ã€‚</span>
                        </div>
                    </li>
                </ul>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-400 py-8">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="mb-2">ä¸“ä¸ºPVCè¡Œä¸šåˆ©ç›Šç›¸å…³è€…ç”Ÿæˆ</p>
            <p class="text-xs">æ•°æ®æ¥æºï¼šè´¢æ”¿éƒ¨ ç¨åŠ¡æ€»å±€å…¬å‘Šï¼ˆ2026å¹´1æœˆ8æ—¥ï¼‰</p>
        </div>
    </footer>

    <!-- JavaScript Implementation -->
    <script>
        // --- UTILITY: Color Palette (Vibrant Indigo/Cyan/Amber) ---
        const colors = {
            primary: '#4F46E5',    // Indigo 600
            secondary: '#06B6D4',  // Cyan 500
            accent: '#F59E0B',     // Amber 500
            danger: '#EF4444',     // Red 500
            success: '#10B981',    // Emerald 500
            background: '#ffffff',
            text: '#374151'
        };

        // --- UTILITY: Label Splitting (16 Char Limit) ---
        // Updated for Chinese characters or mix
        function splitLabel(str, maxLen = 16) {
            if (str.length <= maxLen) return str;
            // Since Chinese usually doesn't have spaces, simply chunking by length is safer,
            // or we keep the space split logic if inputs have spaces, but for safety:
            const words = str.split(' ');
            if (words.length === 1) {
                 // It's a long continuous string (likely Chinese)
                 const chunks = [];
                 for (let i = 0; i < str.length; i += maxLen) {
                     chunks.push(str.substring(i, i + maxLen));
                 }
                 return chunks;
            }

            // Standard space splitting logic
            const lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if ((currentLine + " " + words[i]).length <= maxLen) {
                    currentLine += " " + words[i];
                } else {
                    lines.push(currentLine);
                    currentLine = words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }

        // --- UTILITY: Standard Tooltip Config ---
        const commonTooltip = {
            callbacks: {
                title: function(tooltipItems) {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    if (Array.isArray(label)) {
                        return label.join(''); // Join with empty string for Chinese flow, or space if mixed
                    } else {
                        return label;
                    }
                }
            }
        };

        // --- CHART 1: Financial Impact (Bar Chart) ---
        const ctxImpact = document.getElementById('impactBarChart').getContext('2d');
        const labelsImpact = ["æ”¿ç­–å‰ (13% é€€ç¨)", "æ”¿ç­–å (0% é€€ç¨)"];
        const splitLabelsImpact = labelsImpact.map(l => splitLabel(l));

        new Chart(ctxImpact, {
            type: 'bar',
            data: {
                labels: splitLabelsImpact,
                datasets: [{
                    label: 'æ¯å¨å‡€æ”¶å…¥ (ç¾å…ƒ)',
                    data: [1130, 1000], // Base $1000 + $130 vs Base $1000
                    backgroundColor: [colors.success, colors.danger],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: commonTooltip,
                    title: {
                        display: true,
                        text: 'æ¯1000ç¾å…ƒå‡ºå£é¢çš„å‡€ç•™å­˜'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: { display: true, text: 'é‡‘é¢ (USD $)' }
                    }
                }
            }
        });

        // --- CHART 2: Cost Structure (Stacked Bar) ---
        const ctxCost = document.getElementById('costStructureChart').getContext('2d');
        const labelsCost = ["å½“å‰å®šä»·æ¨¡å‹", "æ‰€éœ€å®šä»· (4æœˆå)"];
        const splitLabelsCost = labelsCost.map(l => splitLabel(l));

        new Chart(ctxCost, {
            type: 'bar',
            data: {
                labels: splitLabelsCost,
                datasets: [
                    {
                        label: 'ç”Ÿäº§ä¸ç‰©æµæˆæœ¬',
                        data: [800, 800],
                        backgroundColor: '#9CA3AF'
                    },
                    {
                        label: 'ç¨åŠ¡è´Ÿæ‹… (ä¸å¯é€€)',
                        data: [0, 130], // The 13% that is no longer refunded
                        backgroundColor: colors.danger
                    },
                    {
                        label: 'å‡€åˆ©æ¶¦',
                        data: [50, 50],
                        backgroundColor: colors.primary
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: commonTooltip,
                    title: {
                        display: true,
                        text: 'ä»·æ ¼ç»“æ„æ‹†è§£ (ç¾å…ƒ/å¨)'
                    }
                },
                scales: {
                    x: { stacked: true },
                    y: { 
                        stacked: true,
                        title: { display: true, text: 'é‡‘é¢ (USD $)' }
                    }
                }
            }
        });

        // --- CHART 3: Export Volume Forecast (Line Chart) ---
        const ctxTrend = document.getElementById('trendLineChart').getContext('2d');
        // Monthly Forecast Data (Simulated for visualization)
        const labelsTrend = [
            "25å¹´12æœˆ", "26å¹´1æœˆ (å…¬å‘Š)", "26å¹´2æœˆ (æŠ¢è£…)", "26å¹´3æœˆ (å³°å€¼)", 
            "26å¹´4æœˆ (å®æ–½)", "26å¹´5æœˆ", "26å¹´6æœˆ"
        ];
        const splitLabelsTrend = labelsTrend.map(l => splitLabel(l));

        new Chart(ctxTrend, {
            type: 'line',
            data: {
                labels: splitLabelsTrend,
                datasets: [{
                    label: 'é¢„æµ‹å‡ºå£é‡ (åƒå¨)',
                    data: [450, 520, 680, 850, 300, 350, 410],
                    borderColor: colors.primary,
                    backgroundColor: 'rgba(79, 70, 229, 0.1)',
                    borderWidth: 3,
                    tension: 0.4,
                    fill: true,
                    pointBackgroundColor: colors.white,
                    pointBorderColor: colors.accent,
                    pointRadius: 6,
                    pointHoverRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: commonTooltip,
                    title: {
                        display: true,
                        text: 'å‡ºå£é‡æ³¢åŠ¨é¢„æµ‹æ›²çº¿'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: { display: true, text: 'å‡ºå£é‡ (1000 MT)' }
                    }
                }
            }
        });

        // --- CHART 4: Affected Products (Doughnut) ---
        const ctxProd = document.getElementById('productDoughnut').getContext('2d');
        const labelsProd = ["PVCçº¯ç²‰", "æœªå¡‘åŒ–PVC", "å·²å¡‘åŒ–PVC", "å…¶ä»–ç›¸å…³äº§å“"];
        const splitLabelsProd = labelsProd.map(l => splitLabel(l));

        new Chart(ctxProd, {
            type: 'doughnut',
            data: {
                labels: splitLabelsProd,
                datasets: [{
                    data: [65, 20, 10, 5], // Representative market share mix
                    backgroundColor: [
                        colors.primary,   // Indigo
                        colors.secondary, // Cyan
                        colors.accent,    // Amber
                        '#E5E7EB'         // Gray
                    ],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: commonTooltip,
                    legend: {
                        position: 'bottom',
                        labels: { font: { family: 'Noto Sans SC' } }
                    }
                }
            }
        });

        // --- CHART 5: Plotly 3D Surface (Market Pricing Landscape) ---
        // Using WebGL/Canvas rendering (type: surface)
        
        const size = 20;
        const xValues = [];
        const yValues = [];
        const zValues = [];

        for (let i = 0; i < size; i++) {
            xValues.push(i);
            const row = [];
            for (let j = 0; j < size; j++) {
                let base = 800; // Base price
                let costFactor = i * 10; 
                let demandFactor = j * 5;
                row.push(base + costFactor + demandFactor + 130); // +130 tax hit
            }
            zValues.push(row);
            yValues.push(i);
        }

        const data3d = [{
            z: zValues,
            type: 'surface',
            colorscale: 'Viridis',
            showscale: false,
            contours: {
                z: {
                    show: true,
                    usecolormap: true,
                    highlightcolor: "#42f462",
                    project: { z: true }
                }
            }
        }];

        const layout3d = {
            title: 'ç›ˆäºå¹³è¡¡ç›®æ ‡ä»·æ ¼æ¨¡å‹ ($/å¨)',
            autosize: true,
            margin: { l: 0, r: 0, b: 0, t: 30 },
            scene: {
                xaxis: { title: 'åŸææ–™æˆæœ¬' },
                yaxis: { title: 'å…¨çƒéœ€æ±‚æŒ‡æ•°' },
                zaxis: { title: 'ç›®æ ‡å”®ä»· ($)' },
                camera: {
                    eye: { x: 1.5, y: 1.5, z: 1.2 }
                }
            },
            paper_bgcolor: 'rgba(0,0,0,0)',
            font: { family: 'Noto Sans SC, sans-serif' }
        };

        const config3d = {
            displayModeBar: false,
            responsive: true
        };

        Plotly.newPlot('plotly3d', data3d, layout3d, config3d);

    </script>
</body>
</html>